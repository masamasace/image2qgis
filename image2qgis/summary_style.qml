<!DOCTYPE qgis PUBLIC 'http://mrcc.com/qgis.dtd' 'SYSTEM'>
<qgis minScale="100000000" autoRefreshTime="0" symbologyReferenceScale="-1" readOnly="0" simplifyMaxScale="1" simplifyAlgorithm="0" autoRefreshMode="Disabled" version="3.40.3-Bratislava" hasScaleBasedVisibilityFlag="0" labelsEnabled="0" simplifyDrawingTol="1" styleCategories="AllStyleCategories" maxScale="0" simplifyDrawingHints="0" simplifyLocal="1">
  <flags>
    <Identifiable>1</Identifiable>
    <Removable>1</Removable>
    <Searchable>1</Searchable>
    <Private>0</Private>
  </flags>
  <temporal accumulate="0" startField="" durationUnit="min" enabled="0" limitMode="0" mode="0" fixedDuration="0" endField="" durationField="fid" startExpression="" endExpression="">
    <fixedRange>
      <start></start>
      <end></end>
    </fixedRange>
  </temporal>
  <elevation zoffset="0" symbology="Line" respectLayerSymbol="1" clamping="Terrain" showMarkerSymbolInSurfacePlots="0" binding="Centroid" extrusionEnabled="0" extrusion="0" type="IndividualFeatures" zscale="1">
    <data-defined-properties>
      <Option type="Map">
        <Option name="name" type="QString" value=""/>
        <Option name="properties"/>
        <Option name="type" type="QString" value="collection"/>
      </Option>
    </data-defined-properties>
    <profileLineSymbol>
      <symbol clip_to_extent="1" is_animated="0" force_rhr="0" name="" frame_rate="10" alpha="1" type="line">
        <data_defined_properties>
          <Option type="Map">
            <Option name="name" type="QString" value=""/>
            <Option name="properties"/>
            <Option name="type" type="QString" value="collection"/>
          </Option>
        </data_defined_properties>
        <layer id="{582bb823-d12f-4184-a0dd-1b9b929feead}" class="SimpleLine" enabled="1" pass="0" locked="0">
          <Option type="Map">
            <Option name="align_dash_pattern" type="QString" value="0"/>
            <Option name="capstyle" type="QString" value="square"/>
            <Option name="customdash" type="QString" value="5;2"/>
            <Option name="customdash_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="customdash_unit" type="QString" value="MM"/>
            <Option name="dash_pattern_offset" type="QString" value="0"/>
            <Option name="dash_pattern_offset_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="dash_pattern_offset_unit" type="QString" value="MM"/>
            <Option name="draw_inside_polygon" type="QString" value="0"/>
            <Option name="joinstyle" type="QString" value="bevel"/>
            <Option name="line_color" type="QString" value="243,166,178,255,rgb:0.95294117647058818,0.65098039215686276,0.69803921568627447,1"/>
            <Option name="line_style" type="QString" value="solid"/>
            <Option name="line_width" type="QString" value="0.6"/>
            <Option name="line_width_unit" type="QString" value="MM"/>
            <Option name="offset" type="QString" value="0"/>
            <Option name="offset_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="offset_unit" type="QString" value="MM"/>
            <Option name="ring_filter" type="QString" value="0"/>
            <Option name="trim_distance_end" type="QString" value="0"/>
            <Option name="trim_distance_end_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="trim_distance_end_unit" type="QString" value="MM"/>
            <Option name="trim_distance_start" type="QString" value="0"/>
            <Option name="trim_distance_start_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="trim_distance_start_unit" type="QString" value="MM"/>
            <Option name="tweak_dash_pattern_on_corners" type="QString" value="0"/>
            <Option name="use_custom_dash" type="QString" value="0"/>
            <Option name="width_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option name="name" type="QString" value=""/>
              <Option name="properties"/>
              <Option name="type" type="QString" value="collection"/>
            </Option>
          </data_defined_properties>
        </layer>
      </symbol>
    </profileLineSymbol>
    <profileFillSymbol>
      <symbol clip_to_extent="1" is_animated="0" force_rhr="0" name="" frame_rate="10" alpha="1" type="fill">
        <data_defined_properties>
          <Option type="Map">
            <Option name="name" type="QString" value=""/>
            <Option name="properties"/>
            <Option name="type" type="QString" value="collection"/>
          </Option>
        </data_defined_properties>
        <layer id="{b278ec3c-31d8-42be-a3f6-0f619b3a10ea}" class="SimpleFill" enabled="1" pass="0" locked="0">
          <Option type="Map">
            <Option name="border_width_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="color" type="QString" value="243,166,178,255,rgb:0.95294117647058818,0.65098039215686276,0.69803921568627447,1"/>
            <Option name="joinstyle" type="QString" value="bevel"/>
            <Option name="offset" type="QString" value="0,0"/>
            <Option name="offset_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="offset_unit" type="QString" value="MM"/>
            <Option name="outline_color" type="QString" value="174,119,127,255,rgb:0.68065918974593731,0.46497291523613338,0.49858854047455559,1"/>
            <Option name="outline_style" type="QString" value="solid"/>
            <Option name="outline_width" type="QString" value="0.2"/>
            <Option name="outline_width_unit" type="QString" value="MM"/>
            <Option name="style" type="QString" value="solid"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option name="name" type="QString" value=""/>
              <Option name="properties"/>
              <Option name="type" type="QString" value="collection"/>
            </Option>
          </data_defined_properties>
        </layer>
      </symbol>
    </profileFillSymbol>
    <profileMarkerSymbol>
      <symbol clip_to_extent="1" is_animated="0" force_rhr="0" name="" frame_rate="10" alpha="1" type="marker">
        <data_defined_properties>
          <Option type="Map">
            <Option name="name" type="QString" value=""/>
            <Option name="properties"/>
            <Option name="type" type="QString" value="collection"/>
          </Option>
        </data_defined_properties>
        <layer id="{9a0d0ce3-a606-4110-bfaa-b3b6d0d48666}" class="SimpleMarker" enabled="1" pass="0" locked="0">
          <Option type="Map">
            <Option name="angle" type="QString" value="0"/>
            <Option name="cap_style" type="QString" value="square"/>
            <Option name="color" type="QString" value="243,166,178,255,rgb:0.95294117647058818,0.65098039215686276,0.69803921568627447,1"/>
            <Option name="horizontal_anchor_point" type="QString" value="1"/>
            <Option name="joinstyle" type="QString" value="bevel"/>
            <Option name="name" type="QString" value="diamond"/>
            <Option name="offset" type="QString" value="0,0"/>
            <Option name="offset_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="offset_unit" type="QString" value="MM"/>
            <Option name="outline_color" type="QString" value="174,119,127,255,rgb:0.68065918974593731,0.46497291523613338,0.49858854047455559,1"/>
            <Option name="outline_style" type="QString" value="solid"/>
            <Option name="outline_width" type="QString" value="0.2"/>
            <Option name="outline_width_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="outline_width_unit" type="QString" value="MM"/>
            <Option name="scale_method" type="QString" value="diameter"/>
            <Option name="size" type="QString" value="3"/>
            <Option name="size_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="size_unit" type="QString" value="MM"/>
            <Option name="vertical_anchor_point" type="QString" value="1"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option name="name" type="QString" value=""/>
              <Option name="properties"/>
              <Option name="type" type="QString" value="collection"/>
            </Option>
          </data_defined_properties>
        </layer>
      </symbol>
    </profileMarkerSymbol>
  </elevation>
  <renderer-v2 symbollevels="0" enableorderby="0" forceraster="0" referencescale="-1" type="singleSymbol">
    <symbols>
      <symbol clip_to_extent="1" is_animated="0" force_rhr="0" name="0" frame_rate="10" alpha="1" type="marker">
        <data_defined_properties>
          <Option type="Map">
            <Option name="name" type="QString" value=""/>
            <Option name="properties"/>
            <Option name="type" type="QString" value="collection"/>
          </Option>
        </data_defined_properties>
        <layer id="{bcbc64ea-add0-421e-b2e5-63c86276eb21}" class="FilledMarker" enabled="1" pass="0" locked="0">
          <Option type="Map">
            <Option name="angle" type="QString" value="0"/>
            <Option name="color" type="QString" value="0,0,0,255,rgb:0,0,0,1"/>
            <Option name="horizontal_anchor_point" type="QString" value="1"/>
            <Option name="name" type="QString" value="circle"/>
            <Option name="offset" type="QString" value="0,0"/>
            <Option name="offset_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="offset_unit" type="QString" value="MM"/>
            <Option name="scale_method" type="QString" value="diameter"/>
            <Option name="size" type="QString" value="15"/>
            <Option name="size_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="size_unit" type="QString" value="MM"/>
            <Option name="vertical_anchor_point" type="QString" value="1"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option name="name" type="QString" value=""/>
              <Option name="properties"/>
              <Option name="type" type="QString" value="collection"/>
            </Option>
          </data_defined_properties>
          <symbol clip_to_extent="1" is_animated="0" force_rhr="0" name="@0@0" frame_rate="10" alpha="1" type="fill">
            <data_defined_properties>
              <Option type="Map">
                <Option name="name" type="QString" value=""/>
                <Option name="properties"/>
                <Option name="type" type="QString" value="collection"/>
              </Option>
            </data_defined_properties>
            <layer id="{3b6c0981-1557-4678-899e-5ff34afe2aef}" class="RasterFill" enabled="1" pass="0" locked="0">
              <Option type="Map">
                <Option name="alpha" type="QString" value="1"/>
                <Option name="angle" type="QString" value="0"/>
                <Option name="coordinate_mode" type="QString" value="0"/>
                <Option name="height" type="QString" value="15"/>
                <Option name="imageFile" type="QString" value=""/>
                <Option name="offset" type="QString" value="0,0"/>
                <Option name="offset_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
                <Option name="offset_unit" type="QString" value="MM"/>
                <Option name="width" type="QString" value="15"/>
                <Option name="width_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
                <Option name="width_unit" type="QString" value="MM"/>
              </Option>
              <data_defined_properties>
                <Option type="Map">
                  <Option name="name" type="QString" value=""/>
                  <Option name="properties" type="Map">
                    <Option name="file" type="Map">
                      <Option name="active" type="bool" value="true"/>
                      <Option name="field" type="QString" value="new_file_path"/>
                      <Option name="type" type="int" value="2"/>
                    </Option>
                  </Option>
                  <Option name="type" type="QString" value="collection"/>
                </Option>
              </data_defined_properties>
            </layer>
          </symbol>
        </layer>
        <layer id="{00e5f5eb-2d57-42b8-b2d4-e58575b2a9ef}" class="SimpleMarker" enabled="1" pass="0" locked="0">
          <Option type="Map">
            <Option name="angle" type="QString" value="0"/>
            <Option name="cap_style" type="QString" value="square"/>
            <Option name="color" type="QString" value="255,0,0,0,rgb:1,0,0,0"/>
            <Option name="horizontal_anchor_point" type="QString" value="1"/>
            <Option name="joinstyle" type="QString" value="bevel"/>
            <Option name="name" type="QString" value="circle"/>
            <Option name="offset" type="QString" value="0,0"/>
            <Option name="offset_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="offset_unit" type="QString" value="MM"/>
            <Option name="outline_color" type="QString" value="255,255,255,255,hsv:0,0,1,1"/>
            <Option name="outline_style" type="QString" value="solid"/>
            <Option name="outline_width" type="QString" value="0.4"/>
            <Option name="outline_width_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="outline_width_unit" type="QString" value="MM"/>
            <Option name="scale_method" type="QString" value="diameter"/>
            <Option name="size" type="QString" value="15"/>
            <Option name="size_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="size_unit" type="QString" value="MM"/>
            <Option name="vertical_anchor_point" type="QString" value="1"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option name="name" type="QString" value=""/>
              <Option name="properties"/>
              <Option name="type" type="QString" value="collection"/>
            </Option>
          </data_defined_properties>
        </layer>
      </symbol>
    </symbols>
    <rotation/>
    <sizescale/>
    <data-defined-properties>
      <Option type="Map">
        <Option name="name" type="QString" value=""/>
        <Option name="properties"/>
        <Option name="type" type="QString" value="collection"/>
      </Option>
    </data-defined-properties>
  </renderer-v2>
  <selection mode="Default">
    <selectionColor invalid="1"/>
    <selectionSymbol>
      <symbol clip_to_extent="1" is_animated="0" force_rhr="0" name="" frame_rate="10" alpha="1" type="marker">
        <data_defined_properties>
          <Option type="Map">
            <Option name="name" type="QString" value=""/>
            <Option name="properties"/>
            <Option name="type" type="QString" value="collection"/>
          </Option>
        </data_defined_properties>
        <layer id="{e4e59477-b8ac-4051-8a63-e6487bd7a053}" class="SimpleMarker" enabled="1" pass="0" locked="0">
          <Option type="Map">
            <Option name="angle" type="QString" value="0"/>
            <Option name="cap_style" type="QString" value="square"/>
            <Option name="color" type="QString" value="255,0,0,255,rgb:1,0,0,1"/>
            <Option name="horizontal_anchor_point" type="QString" value="1"/>
            <Option name="joinstyle" type="QString" value="bevel"/>
            <Option name="name" type="QString" value="circle"/>
            <Option name="offset" type="QString" value="0,0"/>
            <Option name="offset_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="offset_unit" type="QString" value="MM"/>
            <Option name="outline_color" type="QString" value="35,35,35,255,rgb:0.13725490196078433,0.13725490196078433,0.13725490196078433,1"/>
            <Option name="outline_style" type="QString" value="solid"/>
            <Option name="outline_width" type="QString" value="0"/>
            <Option name="outline_width_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="outline_width_unit" type="QString" value="MM"/>
            <Option name="scale_method" type="QString" value="diameter"/>
            <Option name="size" type="QString" value="2"/>
            <Option name="size_map_unit_scale" type="QString" value="3x:0,0,0,0,0,0"/>
            <Option name="size_unit" type="QString" value="MM"/>
            <Option name="vertical_anchor_point" type="QString" value="1"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option name="name" type="QString" value=""/>
              <Option name="properties"/>
              <Option name="type" type="QString" value="collection"/>
            </Option>
          </data_defined_properties>
        </layer>
      </symbol>
    </selectionSymbol>
  </selection>
  <customproperties>
    <Option type="Map">
      <Option name="dualview/previewExpressions" type="List">
        <Option type="QString" value="&quot;file_name&quot;"/>
      </Option>
      <Option name="embeddedWidgets/count" type="int" value="0"/>
      <Option name="variableNames"/>
      <Option name="variableValues"/>
    </Option>
  </customproperties>
  <blendMode>0</blendMode>
  <featureBlendMode>0</featureBlendMode>
  <layerOpacity>1</layerOpacity>
  <geometryOptions removeDuplicateNodes="0" geometryPrecision="0">
    <activeChecks/>
    <checkConfiguration/>
  </geometryOptions>
  <legend showLabelLegend="0" type="default-vector"/>
  <referencedLayers/>
  <fieldConfiguration>
    <field name="fid" configurationFlags="NoFlag">
      <editWidget type="TextEdit">
        <config>
          <Option/>
        </config>
      </editWidget>
    </field>
    <field name="file_name" configurationFlags="NoFlag">
      <editWidget type="TextEdit">
        <config>
          <Option/>
        </config>
      </editWidget>
    </field>
    <field name="file_path" configurationFlags="NoFlag">
      <editWidget type="TextEdit">
        <config>
          <Option/>
        </config>
      </editWidget>
    </field>
    <field name="latitude" configurationFlags="NoFlag">
      <editWidget type="TextEdit">
        <config>
          <Option/>
        </config>
      </editWidget>
    </field>
    <field name="longitude" configurationFlags="NoFlag">
      <editWidget type="TextEdit">
        <config>
          <Option/>
        </config>
      </editWidget>
    </field>
    <field name="new_file_path" configurationFlags="NoFlag">
      <editWidget type="TextEdit">
        <config>
          <Option/>
        </config>
      </editWidget>
    </field>
    <field name="datetime" configurationFlags="NoFlag">
      <editWidget type="TextEdit">
        <config>
          <Option/>
        </config>
      </editWidget>
    </field>
  </fieldConfiguration>
  <aliases>
    <alias name="" index="0" field="fid"/>
    <alias name="" index="1" field="file_name"/>
    <alias name="" index="2" field="file_path"/>
    <alias name="" index="3" field="latitude"/>
    <alias name="" index="4" field="longitude"/>
    <alias name="" index="5" field="new_file_path"/>
    <alias name="" index="6" field="datetime"/>
  </aliases>
  <splitPolicies>
    <policy policy="Duplicate" field="fid"/>
    <policy policy="Duplicate" field="file_name"/>
    <policy policy="Duplicate" field="file_path"/>
    <policy policy="Duplicate" field="latitude"/>
    <policy policy="Duplicate" field="longitude"/>
    <policy policy="Duplicate" field="new_file_path"/>
    <policy policy="Duplicate" field="datetime"/>
  </splitPolicies>
  <duplicatePolicies>
    <policy policy="Duplicate" field="fid"/>
    <policy policy="Duplicate" field="file_name"/>
    <policy policy="Duplicate" field="file_path"/>
    <policy policy="Duplicate" field="latitude"/>
    <policy policy="Duplicate" field="longitude"/>
    <policy policy="Duplicate" field="new_file_path"/>
    <policy policy="Duplicate" field="datetime"/>
  </duplicatePolicies>
  <defaults>
    <default applyOnUpdate="0" field="fid" expression=""/>
    <default applyOnUpdate="0" field="file_name" expression=""/>
    <default applyOnUpdate="0" field="file_path" expression=""/>
    <default applyOnUpdate="0" field="latitude" expression=""/>
    <default applyOnUpdate="0" field="longitude" expression=""/>
    <default applyOnUpdate="0" field="new_file_path" expression=""/>
    <default applyOnUpdate="0" field="datetime" expression=""/>
  </defaults>
  <constraints>
    <constraint unique_strength="1" notnull_strength="1" constraints="3" exp_strength="0" field="fid"/>
    <constraint unique_strength="0" notnull_strength="0" constraints="0" exp_strength="0" field="file_name"/>
    <constraint unique_strength="0" notnull_strength="0" constraints="0" exp_strength="0" field="file_path"/>
    <constraint unique_strength="0" notnull_strength="0" constraints="0" exp_strength="0" field="latitude"/>
    <constraint unique_strength="0" notnull_strength="0" constraints="0" exp_strength="0" field="longitude"/>
    <constraint unique_strength="0" notnull_strength="0" constraints="0" exp_strength="0" field="new_file_path"/>
    <constraint unique_strength="0" notnull_strength="0" constraints="0" exp_strength="0" field="datetime"/>
  </constraints>
  <constraintExpressions>
    <constraint exp="" desc="" field="fid"/>
    <constraint exp="" desc="" field="file_name"/>
    <constraint exp="" desc="" field="file_path"/>
    <constraint exp="" desc="" field="latitude"/>
    <constraint exp="" desc="" field="longitude"/>
    <constraint exp="" desc="" field="new_file_path"/>
    <constraint exp="" desc="" field="datetime"/>
  </constraintExpressions>
  <expressionfields/>
  <attributeactions>
    <defaultAction key="Canvas" value="{f3c94d64-249c-489e-864e-83917687956e}"/>
    <actionsetting id="{f3c94d64-249c-489e-864e-83917687956e}" name="popup" shortTitle="" notificationMessage="" capture="0" icon="" isEnabledOnlyWhenEditable="0" action="from qgis.PyQt.QtWidgets import QDialog, QVBoxLayout, QTextBrowser&#xd;&#xa;from qgis.PyQt.QtGui import QDesktopServices&#xd;&#xa;from pathlib import Path&#xd;&#xa;&#xd;&#xa;def create_popup(&#xd;&#xa;    file_name,      # gpkg の file_name&#xd;&#xa;    file_path,      # gpkg の file_path&#xd;&#xa;    thumb_path,     # gpkg の new_file_path&#xd;&#xa;    latitude,       # gpkg の latitude&#xd;&#xa;    longitude,      # gpkg の longitude&#xd;&#xa;    datetime_value  # gpkg の datetime&#xd;&#xa;):&#xd;&#xa;    dialog = QDialog()&#xd;&#xa;    dialog.setWindowTitle(&quot;画像情報&quot; + &quot; - &quot; + file_name)&#xd;&#xa;    dialog.setMinimumWidth(400)&#xd;&#xa;    dialog.setMinimumHeight(300)&#xd;&#xa;&#xd;&#xa;    layout = QVBoxLayout()&#xd;&#xa;    text_browser = QTextBrowser()&#xd;&#xa;    &#xd;&#xa;    # 絶対パスの取得&#xd;&#xa;    file_path = Path(file_path).resolve()&#xd;&#xa;    thumb_path = Path(thumb_path).resolve()&#xd;&#xa;    &#xd;&#xa;    # file uri 形式に変換&#xd;&#xa;    file_path = file_path.as_uri()&#xd;&#xa;    thumb_path = thumb_path.as_uri()&#xd;&#xa;    &#xd;&#xa;    # 数値化できなければ 0.0&#xd;&#xa;    try:&#xd;&#xa;        lat = float(latitude)&#xd;&#xa;        lon = float(longitude)&#xd;&#xa;    except (TypeError, ValueError):&#xd;&#xa;        lat = lon = 0.0&#xd;&#xa;&#xd;&#xa;    # datetime が空なら「不明」&#xd;&#xa;    dt_disp = datetime_value or &quot;不明&quot;&#xd;&#xa;&#xd;&#xa;    html_content = f&quot;&quot;&quot;&#xd;&#xa;    &lt;!DOCTYPE html>&#xd;&#xa;    &lt;html>&#xd;&#xa;    &lt;body>&#xd;&#xa;        &lt;table>&#xd;&#xa;            &lt;tr>&#xd;&#xa;                &lt;th>画像名&lt;/th>&#xd;&#xa;                &lt;td>&lt;a href=&quot;{file_path} title=&quot;画像を開く&quot;>{file_name}&lt;/a>&lt;/td>&#xd;&#xa;            &lt;/tr>&#xd;&#xa;            &lt;tr>&#xd;&#xa;                &lt;th>緯度経度&lt;/th>&#xd;&#xa;                &lt;td>&#xd;&#xa;                  &lt;a href=&quot;https://www.google.com/maps/search/?api=1&amp;query={lat},{lon}&quot; target=&quot;_blank&quot;>&#xd;&#xa;                    {lat:.6f}, {lon:.6f}&#xd;&#xa;                  &lt;/a>&#xd;&#xa;                &lt;/td>&#xd;&#xa;            &lt;/tr>&#xd;&#xa;            &lt;tr>&#xd;&#xa;                &lt;th>撮影日時&lt;/th>&#xd;&#xa;                &lt;td>{dt_disp}&lt;/td>&#xd;&#xa;            &lt;/tr>&#xd;&#xa;            &lt;tr>&#xd;&#xa;                &lt;td colspan=&quot;2&quot; style=&quot;text-align: center; font-weight: bold;&quot;>サムネイル&lt;/td>&#xd;&#xa;            &lt;/tr>&#xd;&#xa;            &lt;tr>&#xd;&#xa;                &lt;td colspan=&quot;2&quot;>&#xd;&#xa;                    &lt;a href=&quot;{file_path}&quot;>&#xd;&#xa;                        &lt;img src=&quot;{thumb_path}&quot; width=&quot;300&quot;;&quot;>&#xd;&#xa;                    &lt;/a>&#xd;&#xa;                &lt;/td>&#xd;&#xa;            &lt;/tr>&#xd;&#xa;        &lt;/table>&#xd;&#xa;    &lt;/body>&#xd;&#xa;    &lt;/html>&#xd;&#xa;    &quot;&quot;&quot;&#xd;&#xa;    &#xd;&#xa;    def handle_link_clicked(url):&#xd;&#xa;        # リンクがクリックされたときの処理&#xd;&#xa;        if url.scheme() == 'file':&#xd;&#xa;            # ファイルを開く処理&#xd;&#xa;            file_path = url.toLocalFile()&#xd;&#xa;            if Path(file_path).exists():&#xd;&#xa;                QDesktopServices.openUrl(url)  # デフォルトのアプリケーションで開く&#xd;&#xa;                pass&#xd;&#xa;            else:&#xd;&#xa;                print(f&quot;File not found: {file_path}&quot;)&#xd;&#xa;        elif url.scheme() == 'http' or url.scheme() == 'https':&#xd;&#xa;            # ウェブリンクを開く処理&#xd;&#xa;            import webbrowser&#xd;&#xa;            webbrowser.open(url.toString()) &#xd;&#xa;    &#xd;&#xa;    text_browser.setOpenLinks(False)&#xd;&#xa;    text_browser.setHtml(html_content)&#xd;&#xa;    text_browser.anchorClicked.connect(handle_link_clicked)  # リンククリック時の処理を接続&#xd;&#xa;    layout.addWidget(text_browser)&#xd;&#xa;    dialog.setLayout(layout)&#xd;&#xa;    dialog.exec()&#xd;&#xa;&#xd;&#xa;create_popup(&#xd;&#xa;      '[% &quot;file_name&quot; %]', r'[% &quot;file_path&quot; %]', r'[% &quot;new_file_path&quot; %]',&#xd;&#xa;      '[% &quot;latitude&quot; %]', '[% &quot;longitude&quot; %]', '[% &quot;datetime&quot; %]'&#xd;&#xa;    )" type="1">
      <actionScope id="Canvas"/>
      <actionScope id="Feature"/>
    </actionsetting>
  </attributeactions>
  <attributetableconfig sortOrder="0" actionWidgetStyle="dropDown" sortExpression="">
    <columns>
      <column name="fid" width="-1" type="field" hidden="0"/>
      <column name="file_name" width="-1" type="field" hidden="0"/>
      <column name="file_path" width="-1" type="field" hidden="0"/>
      <column name="latitude" width="-1" type="field" hidden="0"/>
      <column name="longitude" width="-1" type="field" hidden="0"/>
      <column name="new_file_path" width="-1" type="field" hidden="0"/>
      <column name="datetime" width="-1" type="field" hidden="0"/>
      <column width="-1" type="actions" hidden="1"/>
    </columns>
  </attributetableconfig>
  <conditionalstyles>
    <rowstyles/>
    <fieldstyles/>
  </conditionalstyles>
  <storedexpressions/>
  <editform tolerant="1"></editform>
  <editforminit/>
  <editforminitcodesource>0</editforminitcodesource>
  <editforminitfilepath></editforminitfilepath>
  <editforminitcode><![CDATA[# -*- coding: utf-8 -*-
"""
QGIS forms can have a Python function that is called when the form is
opened.

Use this function to add extra logic to your forms.

Enter the name of the function in the "Python Init function"
field.
An example follows:
"""
from qgis.PyQt.QtWidgets import QWidget

def my_form_open(dialog, layer, feature):
    geom = feature.geometry()
    control = dialog.findChild(QWidget, "MyLineEdit")
]]></editforminitcode>
  <featformsuppress>0</featformsuppress>
  <editorlayout>generatedlayout</editorlayout>
  <editable>
    <field name="datetime" editable="1"/>
    <field name="fid" editable="1"/>
    <field name="file_name" editable="1"/>
    <field name="file_path" editable="1"/>
    <field name="latitude" editable="1"/>
    <field name="longitude" editable="1"/>
    <field name="new_file_path" editable="1"/>
  </editable>
  <labelOnTop>
    <field name="datetime" labelOnTop="0"/>
    <field name="fid" labelOnTop="0"/>
    <field name="file_name" labelOnTop="0"/>
    <field name="file_path" labelOnTop="0"/>
    <field name="latitude" labelOnTop="0"/>
    <field name="longitude" labelOnTop="0"/>
    <field name="new_file_path" labelOnTop="0"/>
  </labelOnTop>
  <reuseLastValue>
    <field reuseLastValue="0" name="datetime"/>
    <field reuseLastValue="0" name="fid"/>
    <field reuseLastValue="0" name="file_name"/>
    <field reuseLastValue="0" name="file_path"/>
    <field reuseLastValue="0" name="latitude"/>
    <field reuseLastValue="0" name="longitude"/>
    <field reuseLastValue="0" name="new_file_path"/>
  </reuseLastValue>
  <dataDefinedFieldProperties/>
  <widgets/>
  <previewExpression>"file_name"</previewExpression>
  <mapTip enabled="1"></mapTip>
  <layerGeometryType>0</layerGeometryType>
</qgis>
